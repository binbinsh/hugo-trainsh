<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
<title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ printf "%s | %s" .Title .Site.Title }}{{ end }}</title>

{{ partial "head/css.html" . }}

{{- /* Optional: KaTeX auto-render (kept for compatibility; does not affect Bear Blog styling). */ -}}
{{- $hasDisplayMath := gt (len (findRE `\$\$[^\$]+\$\$` .RawContent)) 0 -}}
{{- $hasInlineMath := gt (len (findRE `\$[^\$]+\$` .RawContent)) 0 -}}
{{- if or (.Page.Store.Get "hasMath") $hasDisplayMath $hasInlineMath -}}
  <link href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css" rel="stylesheet">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js"></script>
  <script>
  document.addEventListener("DOMContentLoaded", function() {
    if (typeof renderMathInElement === 'function') {
      renderMathInElement(document.body, {
        delimiters: [
          {left: "$$", right: "$$", display: true},
          {left: "$", right: "$", display: false}
        ],
        throwOnError: false,
        ignoredTags: ["script","noscript","style","textarea","pre","code"]
      });
    }
  });
  </script>
{{- end -}}

{{ partial "head/js.html" . }}
