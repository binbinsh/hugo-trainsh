<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ printf "%s | %s" .Title .Site.Title }}{{ end }}</title>
<script>
(function() {
  var s = localStorage.getItem('theme');
  var m = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  var t = s || (m ? 'dark' : 'light');
  document.documentElement.setAttribute('data-theme', t);
})();
</script>
{{ partialCached "head/fonts.html" . .RelPermalink }}
{{ partialCached "head/css.html" . (printf "%t:%s" hugo.IsProduction site.Language.Lang) }}
{{ $noop := .WordCount }}
{{ $hasDisplayMath := gt (len (findRE `\$\$[^\$]+\$\$` .RawContent)) 0 }}
{{ $hasInlineMath := gt (len (findRE `\$[^\$]+\$` .RawContent)) 0 }}
{{ if or (.Page.Store.Get "hasMath") $hasDisplayMath $hasInlineMath }}
  <link href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css" rel="stylesheet">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js"></script>
  <script>
  document.addEventListener("DOMContentLoaded", function() {
    if (typeof renderMathInElement === 'function') {
      renderMathInElement(document.body, {
        delimiters: [
          {left: "$$", right: "$$", display: true},
          {left: "$", right: "$", display: false}
        ],
        throwOnError: false,
        ignoredTags: ["script","noscript","style","textarea","pre","code"]
      });
    }
  });
  </script>
{{ end }}
{{ partialCached "head/js.html" . }}
