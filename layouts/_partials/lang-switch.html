{{- /* Language switcher: show page translations when available, otherwise fallback to Home translations. */ -}}
{{- $translations := .AllTranslations -}}
{{- if lt (len $translations) 2 -}}
  {{- $translations = site.Home.AllTranslations -}}
{{- end -}}

{{- if gt (len $translations) 1 -}}
  <nav class="lang-switch" aria-label="{{ i18n "language_switcher" }}">
    <ul class="lang-switch__list">
      {{- range $t := $translations -}}
        <li class="lang-switch__item">
          {{- if eq $t.Lang $.Lang -}}
            <span aria-current="true">{{ $t.Site.Language.LanguageName }}</span>
          {{- else -}}
            <a href="{{ $t.RelPermalink }}">{{ $t.Site.Language.LanguageName }}</a>
          {{- end -}}
        </li>
      {{- end -}}
    </ul>
  </nav>
{{- end -}}



